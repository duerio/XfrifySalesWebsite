!function(a,b,c){"use strict";function d(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return b}var e=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]="object"==typeof b[c]?e(a[c],b[c]):b[c]);return a},f=function(a,b){var c,d,e,f=Date.now||function(){return(new Date).getTime()},g=null,h=0,i=function(){h=f(),g=null,e=a.apply(c,d),c=d=null};return function(){var j=f(),k=b-(j-h);return c=this,d=arguments,0>=k?(clearTimeout(g),g=null,h=j,e=a.apply(c,d),c=d=null):g||(g=setTimeout(i,k)),e}},g=function(){return a.pageYOffset!==c?a.pageYOffset:(b.documentElement||b.body.parentNode||b.body).scrollTop},h=function(c,d){"querySelector"in b&&"addEventListener"in a&&(this.visible=!1,this.options={offset:300,classes:{base:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof c?b.querySelector(c):c,this.options=e(this.options,d),this.init())};h.prototype={constructor:h,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,b.body.insertBefore(this.clonedElem,b.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this.scrollOffset=d(b.querySelector(this.options.offset))}this._throttleUpdate=f(this.update.bind(this),this.options.throttle),a.addEventListener("scroll",this._throttleUpdate,!1),this.options.onInit.call(this)},destroy:function(){b.body.removeChild(this.clonedElem),a.removeEventListener("scroll",this._throttleUpdate),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){g()>this.scrollOffset?this.stick():this.unstick()}},a.Headhesive=h}(window,document);